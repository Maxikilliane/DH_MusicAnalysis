{% extends 'MusicAnalyzer/Base.html' %}
{% load staticfiles %}
{% load customFilters %}
{% block title %}{{ title }}{% endblock %}
{% block head_block %}
    {# JQUERY FILE UPLOAD SCRIPTS #}
    <script src="{% static 'js/opensheetmusicdisplay.min.js' %}"></script>

    <script src="{% static 'js/fileSelectAndLoadOSMD.js' %}"></script>
    {# fontawesome for icons #}
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css"
          integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    {# add static files here #}
    <link rel="stylesheet" type="text/css" href="{% static "/css/individualAnalysis.css" %}"/>
    <script src="{% static 'js/ui_kit_styling.js' %}"></script>
    <script src="{% static 'js/ajax_analysis_communication.js' %}"></script>
{% endblock %}
{% block body_block %}
    <div>
        <div style="z-index: 980;" uk-sticky="offset: 100;">
            <div class="uk-align-right">
                <i id="zoom-in-btn"
                   class="fas fa-search-plus fa-2x"></i>
                <p>Zoom in</p>
                <i id="zoom-out-btn"
                   class="fas fa-search-minus fa-2x"></i>
                <p>Zoom out</p>
            </div>
        </div>
    </div>
    <div class="space-m uk-align-center uk-width-1-1 uk-width-3-4@m"
         style="margin-top: 6em;">
        <div class="uk-padding">
            {#            <h3>Test Ãœberschrift</h3>#}

            {% if analysis_form %}
                <form id="individual_analysis_form" action="/MusicAnalyzer/individualAnalysis/"
                      method="post"
                      data-analysis-choice-url="/MusicAnalyzer/individualAnalysis/"
                      class="uk-form-stacked">
                    {% csrf_token %}
                    <div class="uk-margin">
                        <div class="question">
                            {% for field in analysis_form.visible_fields %}
                                {{ field.errors }}
                                <div>{{ field.label }}</div>
                                {{ field.help_text }}
                                <div class="uk-form-controls">{{ field }}</div>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="uk-margin">
                        <div class="question">
                            {% for field in chords_form.visible_fields %}
                                {{ field.errors }}
                                <div>{{ field.label }}</div>
                                {{ field.help_text }}
                                <div class="uk-form-controls">{{ field }}</div>
                            {% endfor %}
                        </div>
                    </div>
                </form>
                <button id="individual_analysis_button" class="uk-button uk-button-default"
                        onclick="start_analysis(event)">Analyse
                </button>

            {% endif %}
        </div>
    </div>

    <div class="musicPiece">
     {% include 'MusicAnalyzer/music_piece.html' %}
    </div>
     <div class="results">
    {% for key in key_possibilities %}
        {{ key }}
        {{ key.correlationCoefficient }}
    {% endfor %}
    </div>
{% endblock %}